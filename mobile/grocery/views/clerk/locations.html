<script src="http://api.map.baidu.com/api?v=2.0&ak=n0T3Q5HyDFsNOVbQCw1AsLMm&callback=init"></script> <nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add"> 添加地点</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="'templates/clerk/side.html'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">地点管理</h2> <!-- /container --> <table class="table table-striped text-center"> <tr> <th>ID <th>地点 <th>介绍 <th>特点 <th>地址 <th>图片 <th>经/纬度 <th>操作  <tr ng-repeat="location in locations track by $index"> <td>{{location.id}} <td>{{location.name}} <td>{{location.intro}} <td>{{location.feature}} <td>{{location.address}} <td><span ng-repeat="image in location.images" class="imgs{{location.sis[$index]}}"> <a ng-href="{{image.url}}" target="_blank"> <img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"> </a>&nbsp;</span>  <td>{{location.longitude}}/{{location.latitude}} <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(location)">修改 </button> <button class="btn btn-danger" ng-click="remove(location);$event.stopPropagation()">删除</button>   </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/location/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/location/list/1">&laquo;</a></li> <li><a href="#/location/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/location/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/location/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/location/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/location/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/location/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/location/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改{{location.name}}信息</h3> </div> <div class="modal-body"> <form class="form-horizontal location modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{location.id}}" ng-model="location.id"> <div class="form-group"> <label for="loc_modify" class="col-sm-2 control-label">地点<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="loc_modify" name="name" ng-model="location.name"> </div> </div> <div class="form-group"> <label for="intro_modify" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" rows="2" id="intro_modify" name="intro" ng-model="location.intro"></textarea> </div> </div> <div class="form-group"> <label for="feature_modify" class="col-sm-2 control-label"> 特点</label> <div class="col-sm-10"> <textarea class="form-control" rows="2" id="feature_modify" name="feature" ng-model="location.feature"></textarea> </div> </div> <div class="form-group"> <label for="address" class="col-sm-2 control-label">地址<span>*</span></label> <div class="col-sm-10" id="address"> <select> <option>中国 </select> <select id="chooseProv" class="mapsync_mod chooseProvince" name="province"> </select> <select id="chooseCity" class="mapsync_mod chooseCity" name="city"> </select> <span id="choose_district_div"> <select id="chooseDistrict" class="mapsync_mod" name="district"> </select> </span> </div> <div class="col-sm-10" style="margin-top: 6px"> <input type="text" class="form-control" id="address_detail_mod" ng-model="location.address_detail"> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <img ng-repeat="image in location.images track by $index" ng-src="{{image.url}}" class="imgs{{location.sis[$index]}}" ng-click="removeImage(location.sis[$index],$event.target)" height="80px" style="padding:2px"> <input type="file" class="form-control" id="mod-file" name="image" placeholder="请输入图片">. </div> </div> <div class="form-group"> <label for="point_mod" class="col-sm-2 control-label">经纬度</label> <span> <p id="point_mod" style="margin-top: 6px">{{latlng.lng}},{{latlng.lat}}</p> </span> </div> <div class="form-group"> <div class="col-sm-12"> <div id="allmap" style="width: 100%;height: 400px"> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(location)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加地点</h3> </div> <div class="modal-body"> <form class="form-horizontal location add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="loc" class="col-sm-2 control-label">地点<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="loc" name="name" ng-model="name" placeholder="请输入地点"> </div> </div> <div class="form-group"> <label for="intro" class="col-sm-2 control-label">描述</label> <div class="col-sm-10"> <textarea class="form-control" rows="2" id="intro" ng-model="intro" name="intro" placeholder="请输入介绍信息"></textarea> </div> </div> <div class="form-group"> <label for="feature" class="col-sm-2 control-label">特点</label> <div class="col-sm-10"> <textarea class="form-control" rows="2" id="feature" ng-model="feature" name="feature" placeholder="请输入特点"></textarea> </div> </div> <div class="form-group"> <label for="address_add" class="col-sm-2 control-label">地址<span>*</span></label> <div class="col-sm-10" id="address_add"> <select> <option>中国 </select> <select id="chooseProvAdd" class="mapsync chooseProvinceAdd" name="province"> </select> <select id="chooseCityAdd" class="mapsync chooseCityAdd" name="city"> </select> <span id="choose_district_div_add"> <select id="chooseDistrictAdd" name="district" class="mapsync"></select> </span> </div> <div class="col-sm-10" style="margin-top: 6px"> <input type="text" class="form-control" placeholder="请输入详细地址" ng-model="address_detail" id="address_detail" name="address_detail"> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <label for="point" class="col-sm-2 control-label">经纬度</label> <span> <p id="point">{{location.point}}</p> </span> </div> <div class="form-group"> <div class="col-sm-12"> <div id="allmap_add" style="width: 100%;height: 400px"> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal -->  <script src="scripts/data/areaData.js"></script> <script src="scripts/data/area.js"></script>