<link rel="stylesheet" type="text/css" href="../../../admin/styles/bootstrap-select.css"> <link rel="stylesheet" type="text/css" href="../../../admin/styles/bootstrap-select.styles.map"> <nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add" ng-click="openAdd()">添加预定</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="'templates/clerk/side.html'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">预定管理</h2> <table class="table table-striped text-center"> <tr> <th># <th>标题 <th>类型 <th>类型ID <th>联系人 <th>联系电话 <th>备注 <th>预定时间 <th>预定列表 <th>系统操作员 <th>状态 <th>状态操作 <th>最后操作时间 <th>其他操作  <tr ng-repeat="reservation in reservations track by $index"> <td>{{reservation.id}} <td>{{reservation.title}} <td>{{reservation.type | reservation_type}} <td>{{reservation.type_id}} <td>{{reservation.contact_name}} <td>{{reservation.contact_phone}} <td>{{reservation.note}} <td>{{reservation.create_time | iso_date}} <td><a ng-click="goto(reservation)">预定详情</a> <td>{{reservation.operator}} <td>{{reservation.status | reservation_status_code}} <td> <button class="btn btn-default confirm-{{reservation.id}}" ng-show="buttonConfirm(reservation)" ng-click="modifyStatus(reservation,0);$event.stopPropagation();"> 确认 </button> <button class="btn btn-default finish-{{reservation.id}}" ng-show="buttonFinish(reservation)" ng-click="modifyStatus(reservation,1); $event.stopPropagatoin();"> 完成 </button>  <td>{{reservation.update_time | iso_date}} <td> <button class="btn btn-default modify-{{reservation.id}}" data-toggle="modal" ng-show="buttonModify(reservation)" data-target="#modify" ng-click="openModify(reservation)">修改</button> <button class="btn btn-warning cancel-{{reservation.id}}" ng-show="buttonCancel(reservation)" ng-click="modifyStatus(reservation,2);$event.stopPropagation();"> 取消预定</button> <!--<a class="btn btn-warning" data-toggle="modal"--> <!--ng-click="cancelReservation(reservation); $event.stopPropagation();" >取消预订</a>-->   </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/reservation/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/reservation/list/1">&laquo;</a></li> <li><a href="#/reservation/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/reservation/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/reservation/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/reservation/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/reservation/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/reservation/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/reservation/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改预定信息</h3> </div> <div class="modal-body"> <form class="form-horizontal reservation modify" role="form" enctype="multipart/form-data"> <input type="hidden" value="{{reservation.id}}"> <div class="form-group"> <label for="mod_type" class="col-sm-2 control-label">类型：</label> <div class="col-sm-3"> <select name="type" class="selectpicker show-tick" data-size="2" ng-model="reservation.type" id="mod_type"> <option>service <option>travel </select> </div> </div> <div class="form-group"> <label for="mod_type_id" class="col-sm-2 control-label">类型ID：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_type_id" name="type_id" value="{{reservation.type_id}}"> </div> </div> <div class="form-group"> <label for="mod_title" class="col-sm-2 control-label">标题：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_title" name="title" value="{{reservation.title}}"> </div> </div> <div class="form-group"> <label for="mod_contact_name" class="col-sm-2 control-label">联系人姓名：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_contact_name" name="contact_name" value="{{reservation.contact_name}}"> </div> </div> <div class="form-group"> <label for="mod_contact_phone" class="col-sm-2 control-label">联系电话：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_contact_phone" name="contact_phone" value="{{reservation.contact_phone}}"> </div> </div> <div class="form-group"> <label for="mod_note" class="col-sm-2 control-label">备注：</label> <div class="col-sm-10"> <textarea type="text" rows="3" class="form-control" id="mod_note" name="note">{{reservation.note}}</textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="modify()">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> </div> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加预定信息</h3> </div> <div class="modal-body"> <form class="form-horizontal reservation add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="type" class="col-sm-3 control-label">类型：</label> <div class="col-sm-9"> <select name="type" class="selectpicker show-tick" data-size="2" id="type" ng-model="type"> <option>service <option>travel </select> </div> </div> <div class="form-group"> <label for="type_id" class="col-sm-3 control-label">类型ID：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="type_id" name="type_id" ng-model="type_id"> </div> </div> <div class="form-group"> <label for="title" class="col-sm-3 control-label">标题：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="title" name="title" ng-model="title"> </div> </div> <div class="form-group"> <label for="contact_name" class="col-sm-3 control-label">联系人姓名：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="contact_name" name="contact_name" ng-model="contact_name"> </div> </div> <div class="form-group"> <label for="contact_phone" class="col-sm-3 control-label">联系电话：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="contact_phone" name="contact_phone" ng-model="contact_phone"> </div> </div> <div class="form-group"> <label for="note" class="col-sm-3 control-label">备注：</label> <div class="col-sm-9"> <textarea id="note" rows="3" class="form-control" name="note" ng-model="note"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> </div> </div>