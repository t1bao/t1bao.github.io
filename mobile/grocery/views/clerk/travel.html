<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add" ng-click="openAdd()"> 添加行程</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="'templates/clerk/side.html'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">行程管理</h2> <table class="table table-striped text-center"> <tr> <th># <th>行程名称 <th>线路 <th>介绍 <th>详情 <th>标签 <th>注意事项 <th>费用 <th>费用说明 <th>档期列表 <th>图片 <th>上/下线 <th>操作  <tr ng-repeat="travel in travels track by $index"> <td>{{travel.id}} <td>{{travel.name}} <td>{{travel.route}} <td>{{travel.intro}} <td>{{travel.content}} <td>{{travel.tags}} <td>{{travel.notice}} <td>{{travel.price}} <td>{{travel.price_detail}} <td> <a ng-click="goto(travel)">档期管理</a>  <td> <span ng-repeat="image in travel.images" class="imgs{{travel.sis[$index]}}"> <a ng-href="{{image.url}}" target="_blank"> <img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"> </a> </span>  <td> <button class="btn btn-default online-{{travel.id}}" ng-show="!travel.online" ng-click="online(travel,1);$event.stopPropagation();"> 上线 </button> <button class="btn btn-default offline-{{travel.id}}" ng-show="travel.online" ng-click="online(travel,0);$event.stopPropagation();"> 下线 </button>  <td> <a class="btn btn-default" data-toggle="modal" data-target="#modify" ng-click="openModify(travel)">修改 </a> <button class="btn btn-default" ng-click="remove(travel); $event.stopPropagation();">删除 </button>   </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/travel/{{parent}}/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/travel/{{parent}}/list/1">&laquo;</a></li> <li><a href="#/travel/{{parent}}/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/travel/{{parent}}/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/travel/{{parent}}/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/travel/{{parent}}/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/travel/{{parent}}/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/travel/{{parent}}/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/travel/{{parent}}/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改行程</h3> </div> <div class="modal-body"> <form class="form-horizontal travel modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{travel.id}}" ng-model="travel.id"> <div class="form-group"> <label for="mod-name" class="col-sm-3 control-label">行程名称：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="mod-name" name="name" placeholder="请输入行程名称" value="{{travel.name}}"> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">路线<span>*</span></label> <div class="col-sm-9"> <!--<input type="text" class="form-control" id="mod-route" name="route"--> <!--placeholder="请输入线路ID"ng-model="travel.route">--> <!--<br/>--> 请选择线路: <select name="routeId" ng-click="select($event.target)"> <option ng-repeat="route in routes" value="{{route.id}}">{{route.name}} </select> <button name="prev" class="btn" ng-click="prev">前一组</button> <button name="next" class="btn" ng-click="next">下一组</button> </div> </div> <div class="form-group"> <label for="mod_intro" class="col-sm-3 control-label">行程介绍：</label> <div class="col-sm-9"> <textarea class="form-control" id="mod_intro" rows="2" name="intro" placeholder="请输入行程介绍">{{travel.intro}}</textarea> </div> </div> <div class="form-group"> <label for="mod_content" class="col-sm-3 control-label">详情：</label> <div class="col-sm-9"> <textarea class="form-control" id="mod_content" name="content" rows="3" placeholder="请输入详情">{{travel.content}}</textarea> </div> </div> <div class="form-group"> <label for="mod_tags" class="col-sm-3 control-label">标签：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="mod_tags" name="tags" placeholder="请输入标签" value="{{travel.tags}}"> </div> </div> <div class="form-group"> <label for="mod_notice" class="col-sm-3 control-label">注意事项：</label> <div class="col-sm-9"> <textarea class="form-control" id="mod_notice" name="notice" rows="2" placeholder="请输入行程注意事项">{{travel.notice}}</textarea> </div> </div> <div class="form-group"> <label for="mod_price" class="col-sm-3 control-label">行程单价：</label> <div class="col-sm-9"> <input type="number" class="form-control" id="mod_price" name="price" placeholder="请输入单价" value="{{travel.price}}"> </div> </div> <div class="form-group"> <label for="mod_price_detail" class="col-sm-3 control-label">费用说明：</label> <div class="col-sm-9"> <textarea class="form-control" id="mod_price_detail" name="price_detail" rows="2">{{travel.price_detail}}</textarea> </div> </div> <div class="form-group"> <label for="mod_file" class="col-sm-3 control-label">图片：</label> <div class="col-sm-9"> <img ng-repeat="image in travel.images track by $index" ng-src="{{image.url}}" class="imgs{{travel.sis[$index]}}" ng-click="removeImage(travel.sis[$index],$event.target)" height="80px" style="padding: 2px"> <input type="file" class="form-control" id="mod_file" name="image" placeholder="请输入图片"> </div> </div> <div class="form-group"> <div class="col-sm-offset-3 col-sm-9"> <button type="button" class="btn btn-default" ng-click="modify()">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加行程</h3> </div> <div class="modal-body"> <form class="form-horizontal travel add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="name" class="col-sm-3 control-label">行程名称：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="name" name="name" placeholder="请输入行程名称" ng-model="name"> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">路线<span>*</span></label> <div class="col-sm-9"> <!--<input type="text" class="form-control" id="route" name="route"--> <!--placeholder="请输入线路ID" ng-model="routeId">--> <!--<br/>--> 请选择线路: <select name="route" ng-click="select($event.target)"> <option ng-repeat="route in routes" value="{{route.id}}">{{route.name}} </select> <button name="prev" class="btn" ng-click="prev()">前一组</button> <button name="next" class="btn" ng-click="next()">下一组</button> </div> </div> <div class="form-group"> <label for="intro" class="col-sm-3 control-label">介绍：</label> <div class="col-sm-9"> <textarea class="form-control" id="intro" rows="2" name="intro" placeholder="请输入简介" ng-model="intro"></textarea> </div> </div> <div class="form-group"> <label for="content" class="col-sm-3 control-label">详情：</label> <div class="col-sm-9"> <textarea class="form-control" id="content" rows="2" name="content" placeholder="请输入详情" ng-model="content"></textarea> </div> </div> <div class="form-group"> <label for="tags" class="col-sm-3 control-label">标签：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="tags" name="tags" placeholder="请输入标签" ng-model="tags"> </div> </div> <div class="form-group"> <label for="notice" class="col-sm-3 control-label">注意事项：</label> <div class="col-sm-9"> <textarea class="form-control" id="notice" rows="2" name="notice" placeholder="请输入注意事项" ng-model="notice"></textarea> </div> </div> <div class="form-group"> <label for="price" class="col-sm-3 control-label">行程单价：</label> <div class="col-sm-9"> <input type="number" class="form-control" id="price" name="price" placeholder="请输入行程单价" ng-model="price"> </div> </div> <div class="form-group"> <label for="price_detail" class="col-sm-3 control-label">费用说明：</label> <div class="col-sm-9"> <textarea class="form-control" id="price_detail" rows="2" name="price_detail" placeholder="请输入费用说明" ng-model="price_detail"></textarea> </div> </div> <div class="form-group"> <label for="file" class="col-sm-3 control-label">图片：</label> <div class="col-sm-9"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-3 col-sm-9"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> 