<div ng-include src="'views/dashboard/navbar.html'"></div>


<div class="container">
  <div class="row">
    <div class="col-md-2">
      <div class="list-group">
        <div ng-include src="'views/dashboard/sidebar.html'"></div>
      </div>
    </div>
    <div class="col-md-10">
      <h4 class="text-center">用户管理      <form class="navbar-form navbar-right">
        <p><a class="btn btn-primary" data-toggle="modal" data-target="#add">添加用户</a></p>
      </form></h4>

      <table class="table table-striped text-center" >
        <tr>
          <th>#</th>
          <th>用户名</th>
          <th>邮箱</th>
          <th>手机号</th>
          <th>注册时间</th>
          <th>注册IP</th>
          <th>登录时间</th>
          <th>登录IP</th>
          <th>登录次数</th>
          <th>操作</th>
        </tr>
        <tr ng-repeat="user in users track by $index" ng-class="'user-operator-' + user.id">
          <td>{{user.id}}</td>
          <td>{{user.username}}</td>
          <td>{{user.email}}</td>
          <td>{{user.phone}}</td>
          <td>{{user.time | date}}</td>
          <td>{{user.ip}}</td>
          <td>{{user.last_time | date}}</td>
          <td>{{user.last_ip}}</td>
          <td>{{user.login_count || 0}}</td>
          <td>
            <a class="btn btn-default"
               data-toggle="modal" data-target="#modify" ng-click="openModify(user)">修改
            </a>
            <button class="btn btn-default"
                    ng-click="resetPassowrd(user); $event.stopPropagation();">重置密码
            </button>
            <button class="btn btn-default"
                    ng-click="remove(user); $event.stopPropagation();">删除
            </button>
          </td>
        </tr>
      </table>
      <div ng-include src="'views/dashboard/pagination.html'"></div>
    </div>
  </div>
</div>

<div ng-include src="'views/dashboard/user/new.html'"></div>
<div ng-include src="'views/dashboard/user/edit.html'"></div>

</div>
